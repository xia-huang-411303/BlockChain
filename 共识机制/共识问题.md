## 早期共识问题的研究
共识问题的研究源远流长。
1975年，Akkoyunlu、Ekanadham和Huber提出了计算机领域的“ #两军问题”，证明节点间通过通信在不可靠的通信链路上达成共识是不可能的，标志着业界对共识问题研究的开端。
1977年，Lamport提出共识机制的 #正确性模型 ，只有同时满足安全性与活性的分布式共识机制才是可靠的。这一模型影响深远，时至今日，任何共识算法的提出，都需要在安全性与活性两个维度给出严谨的证明。
1982年，Lamport、Shostak和Pease提出了著名的[[拜占庭将军问题]]，以多位东罗马帝国将军如何达成共识围攻敌军的场景，研究在一个互不信任的多节点网络中，可能存在故障节点或恶意攻击的情况下，网络中的诚实节点如何达成共识的问题。由此，原本指代东罗马帝国首都的名词“拜占庭”，在共识研究领域戏剧性地成为一种 #故障模型 的代名词，业界对共识机制的研究正式延伸出 #拜占庭容错 与 #崩溃容错 两大分支。
1985年，Fisher、Lycnh和Paterson提出了 #FLP不可能定理 ，促进了 #网络模型 的进一步完善，为后期共识算法的发展奠定了坚实的理论基础。
FLP定理证明，在 #异步网络中 ，只要有一个进程存在故障的可能性，就不存在一种确定的共识机制能够保证所有进程在有限时间内达成一致。
为了寻求可行的工程解，研究者们基于传统的异步网络模型，提出了工程中可实现且约束相对宽松的“ #半同步网络模型”，如今绝大多数共识算法都是以此作为基本假设。

## 正确性模型、故障模型、网络模型 
### 正确性模型
在Lamport提出的 #正确性模型 中，只有每一个请求都保证安全性与活性的分布式共识系统才能被认为是正确可靠的。
1) 安全性（Safety）。系统对请求的回复必须是正确且无须修改的。
2) 活性（Liveness）。系统能在有限时间内对请求作出回复。

### 故障模型
#### 崩溃错误（Crash Fault）
在 #崩溃错误 中，节点消息的发送与处理过程，可能因网络故障或节点崩溃而发生延时、丢失、重复等异常，但消息内容并不会被伪造或篡改。 崩溃错误本质上是拜占庭错误的子集。

#### 拜占庭错误（Byzantine Fault）
#拜占庭错 误不仅可以包括崩溃错误的所有行为，还包括伪造消息内容，对不同节点发送不同消息，甚至联合其他拜占庭节点一起破坏分布式系统。与崩溃错误相比，关键差异是增加了伪造消息内容的攻击方式。需要注意的是，拜占庭错误虽然理论上被描述为“可以发生的任意类型的错误行为”，但在工程中，由于签名算法的存在，我们假设拜占庭节点只能伪造自身消息，而不能伪造或篡改其他节点的消息，这一约束是依赖投票机制抵抗拜占庭攻击的算法能够成立的关键。

### 网络模型
#### 同步网络（Synchronous Network）
在 #同步模型 中，消息的发送与处理时间都是有限且已知的。显然，这个模型中假设的网络过于理想化，对于网络的不确定性与节点宕机的可能性都没有假设，难以保障在实际工程中的可靠性。

#### 异步网络（Asynchronous Network）
在 #异步模型 中，消息的发送与处理时间都是不确定、不已知的，且时延有可能无限长，甚至无法确定系统等待回复导致的阻塞，是由于网络故障还是节点失效导致的。
FLP定理已经证明，没有一种确定的基于此种网络假设的共识算法能同时满足安全性与活性。

#### 半同步网络（PartiallySynchronousNetwork）
为了同时满足安全性与活性，大多数共识算法会选择基于工程可实现且约束相对宽松的 #半同步网络模型 假设。在该模型下，网络中的消息传输时延虽然存在上限，但并不可知，因此不能作为共识协议参数使用。但是系统能够确保节点发出的消息在有限时间内，最终能够到达其他所有节点。工程上，我们通常会采用异常恢复机制来实现半同步网络，当节点等待直到超时仍未收到回复，系统会启动相应的异常恢复机制，例如，消息重发、宕机节点重启、不再与异常节点通信等，来保障消息最终能够在有限时间内同步到集群所有诚实节点。
